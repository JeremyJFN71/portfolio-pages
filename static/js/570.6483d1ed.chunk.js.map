{"version":3,"file":"static/js/570.6483d1ed.chunk.js","mappings":"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","sources":["components/Error.jsx","pages/AdminEmail.jsx"],"sourcesContent":["export default function Error() {\r\n    return (\r\n        <div className='d-flex justify-content-center' data-aos=\"fade-up\">\r\n            <h3 className='font-secondary'>Something went wrong ;(</h3>\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from 'moment';\r\n\r\nimport Error from '../components/Error';\r\n\r\nexport default function AdminEmail() {\r\n    const [emails, setEmails] = useState([]);\r\n    const [length, setLength] = useState(0);\r\n    const [isError, setIsError] = useState(false);\r\n    const [isEmpty, setIsEmpty] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [deleting, setDeleting] = useState([]);\r\n\r\n    const myModal = document.querySelector('#deleteModal');\r\n\r\n    useEffect(()=>{\r\n        fetchData();\r\n    }, []);\r\n\r\n    async function fetchData(){\r\n        await axios.get('/api/emails?sort=createdAt&direction=desc', {baseURL: process.env.REACT_APP_API})\r\n            .then(res=>{\r\n                if(res.data<1){\r\n                    setIsEmpty(true);\r\n                }\r\n                setEmails(res.data);\r\n                setLength(res.data.length)\r\n            })\r\n            .catch(err=>{\r\n                setIsError(true);\r\n                console.log(err.response);\r\n            });\r\n    }\r\n\r\n    const deleteOne = async (id)=>{\r\n        setDeleting([...deleting, id]);\r\n\r\n        setLength(l=>{\r\n            if(l-1===0){\r\n                setIsEmpty(true);\r\n            }\r\n            return (l-1)\r\n        });\r\n        await axios.delete(`/api/emails/${id}`, {baseURL: process.env.REACT_APP_API})\r\n            .then(res=>console.log(res))\r\n            .catch(err=>console.log(err.response));\r\n    }\r\n\r\n    const deleteAll = async ()=>{\r\n        setIsLoading(true);\r\n        await axios.delete(`/api/emails`, {baseURL: process.env.REACT_APP_API})\r\n            .then(()=>{\r\n                const modal = window.bootstrap.Modal.getInstance(myModal);\r\n                modal.hide();\r\n                fetchData();\r\n            })\r\n            .catch(err=>console.log(err.response))\r\n            .finally(()=>setIsLoading(false));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"fw-bold font-primary mb-3\" data-aos=\"fade-right\">EMAIL</h1>\r\n            {isError ? <Error /> : (\r\n                <>\r\n                    <div className=\"d-flex mb-4 justify-content-between align-items-center px-3 py-2 tertiary\" style={{borderRadius: '10px'}} data-aos=\"fade-up\">\r\n                        <span className=\"font-secondary\">There are {length} Emails</span>\r\n                        <span className=\"cool-btn-dark py-2 px-3\" style={{aspectRatio: 'unset', borderRadius: '20px'}} data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\">\r\n                            <span className=\"text-danger text-end\" style={{cursor: 'pointer'}}>Delete All</span>\r\n                        </span>\r\n                    </div>\r\n\r\n                    {isEmpty && (\r\n                        <div className=\"d-flex justify-content-center mt-5\" style={{position: 'absolute', right: '25%', left: '25%'}}>\r\n                            <h1 className=\"font-primary text-center\">No Emails</h1>\r\n                        </div>\r\n                    )}\r\n\r\n                    {emails.map(email=>(\r\n                        <div key={email._id} className={`${deleting.includes(email._id) ? 'deleting' : 'show-email'}`}>\r\n                            <hr className=\"m-0 mb-1\" />\r\n                            <div className=\"email-container mb-1 d-flex justify-content-start align-items-center\">\r\n                                <Link to={`/admin/email/${email._id}`} className=\"w-100 p-3 d-flex justify-content-between\">\r\n                                    <div>\r\n                                        <p className=\"font-primary m-0\">{email.name}</p>\r\n                                        <p className=\"font-secondary m-0\" style={{fontSize: '12px'}}>{email.subject}</p>\r\n                                        <p className=\"font-secondary m-0\" style={{fontSize: '12px'}}>{email.message}</p>\r\n                                    </div>\r\n                                </Link>\r\n                                <div style={{position: 'absolute', right: '10px', top: '10px'}}>\r\n                                    <p className=\"font-secondary m-0 text-end\" style={{fontSize: '12px'}}>{moment(email.createdAt).format('HH:mm, MMMM Do')}</p>\r\n                                </div>\r\n                                <div style={{position: 'absolute', right: '10px', bottom: '10px'}} onClick={()=>deleteOne(email._id)}>\r\n                                    <span className=\"cool-btn-dark\">\r\n                                        <i className=\"fa-solid fa-trash text-danger\"></i>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {/* Modal Delete */}\r\n                    <div className=\"modal fade\" id=\"deleteModal\" tabIndex=\"-1\" aria-hidden=\"true\">\r\n                        <div className=\"modal-dialog modal-dialog-centered\">\r\n                            <div className=\"modal-content tertiary\">\r\n                                <div className=\"modal-header\" data-bs-theme=\"dark\">\r\n                                    <h1 className=\"modal-title fs-5 \">Delete Email</h1>\r\n                                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                                </div>\r\n                                <div className=\"modal-body \">\r\n                                    Are you sure want to delete <b className=\"\">All</b>?\r\n                                    <div className=\"mt-5 d-flex gap-2 justify-content-end\">\r\n                                        <button type=\"button\" className=\"btn btn-cancel\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                                        {!isLoading ? (\r\n                                        <button type=\"button\" className=\"btn btn-danger\" onClick={deleteAll}>Delete</button> ) : (\r\n                                        <button type=\"button\" className=\"btn btn-danger\" disabled>Deleting...</button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}"],"names":["Error","_jsx","className","children","AdminEmail","_useState","useState","_useState2","_slicedToArray","emails","setEmails","_useState3","_useState4","length","setLength","_useState5","_useState6","isError","setIsError","_useState7","_useState8","isEmpty","setIsEmpty","_useState9","_useState10","isLoading","setIsLoading","_useState11","_useState12","deleting","setDeleting","myModal","document","querySelector","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","wrap","_context3","prev","next","axios","baseURL","process","then","res","data","catch","err","console","log","response","stop","useEffect","deleteOne","_ref","_callee","id","_context","concat","_toConsumableArray","l","_x","deleteAll","_ref2","_callee2","_context2","window","bootstrap","Modal","getInstance","hide","finally","_jsxs","_Fragment","style","borderRadius","aspectRatio","cursor","position","right","left","map","email","includes","_id","Link","to","name","fontSize","subject","message","top","moment","createdAt","format","bottom","onClick","tabIndex","type","disabled"],"sourceRoot":""}