"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[391],{7767:function(e,a,t){t.d(a,{Z:function(){return n}});var s=t(184);function n(e){var a=e.image;return(0,s.jsx)("div",{className:"modal fade",id:"imageModal",tabIndex:"-1","aria-hidden":"true",children:(0,s.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:(0,s.jsx)("div",{className:"modal-content",children:(0,s.jsx)("img",{src:a,alt:"",style:{maxHeight:"100vh",objectFit:"cover"}})})})})}},5391:function(e,a,t){t.r(a),t.d(a,{default:function(){return u}});var s=t(4165),n=t(5861),r=t(9439),l=t(2791),i=t(1243),c=t(7689),d=t(1087),o=t(7767),m=t(184);function u(){var e=(0,l.useState)({}),a=(0,r.Z)(e,2),t=a[0],u=a[1],p=(0,l.useState)(!1),h=(0,r.Z)(p,2),x=h[0],f=h[1],j=(0,l.useState)(!1),b=(0,r.Z)(j,2),g=b[0],N=b[1],v=(0,l.useState)(""),y=(0,r.Z)(v,2),w=y[0],Z=y[1],C=(0,l.useState)(""),S=(0,r.Z)(C,2),k=S[0],F=S[1],R=(0,l.useState)(""),_=(0,r.Z)(R,2),U=_[0],I=_[1],M=(0,l.useState)(""),V=(0,r.Z)(M,2),D=V[0],L=V[1],q=(0,l.useState)(""),O=(0,r.Z)(q,2),P=O[0],E=O[1],A=(0,l.useState)(""),H=(0,r.Z)(A,2),T=H[0],z=H[1],B=(0,c.UO)().id,G=(0,c.s0)(),J=document.querySelector("#resetModal");(0,l.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/api/projects/".concat(B)).then((function(e){u(e.data),I(e.data.name),L(e.data.language),E(e.data.description),z(e.data.demo_url||"")})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[B]);var K=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),f(!0),n=new FormData,k&&n.append("image",k),n.append("name",U),n.append("language",D),n.append("description",P),n.append("demo_url",T),e.next=10,i.Z.patch("/api/projects/".concat(t._id,"/update"),n).then((function(){return G("/admin/project")})).catch((function(e){return console.error(e.response)})).finally((function(){return f(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,i.Z.patch("/api/projects/".concat(t._id,"/sync"),{full_name:t.full_name}).then((function(e){console.log(e.data),window.bootstrap.Modal.getInstance(J).hide(),G("/admin/project")})).catch((function(e){return console.error(e.response)})).finally((function(){return N(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"tertiary",style:{borderRadius:"10px"},"data-aos":"fade-up",children:[(0,m.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-3 px-2",style:{borderRadius:"10px",boxShadow:"0px 10px 10px 2px #0b192f",position:"relative"},children:[(0,m.jsx)(d.rU,{to:"/admin/project",className:"cool-btn-dark",children:(0,m.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,m.jsx)("h3",{className:"m-0",children:"Edit Project"}),(0,m.jsx)("span",{className:"cool-btn-dark","data-bs-toggle":"modal","data-bs-target":"#resetModal",children:(0,m.jsx)("i",{className:"fa-sharp fa-solid fa-rotate-left"})})]}),(0,m.jsx)("form",{className:"mt-3 p-4",method:"POST",onSubmit:K,children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsxs)("div",{className:"row mb-3",children:[(0,m.jsxs)("div",{className:"col-md-6 mb-3 mb-md-0",children:[(0,m.jsx)("div",{className:"font-primary mb-2 fs-5",children:"Current Image:"}),(0,m.jsx)("div",{style:{width:"100%",overflow:"hidden",borderRadius:"5px"},children:(0,m.jsx)("img",{className:"project-image img-fluid",src:t.image,alt:"","data-bs-toggle":"modal","data-bs-target":"#imageModal",onClick:function(){return Z(t.image)}})})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("div",{className:"font-primary mb-2 fs-5",children:"Change Image:"}),k?(0,m.jsx)("label",{htmlFor:"image",className:"",style:{width:"100%",overflow:"hidden",borderRadius:"5px"},children:(0,m.jsx)("img",{className:"project-image img-fluid",src:URL.createObjectURL(k),alt:""})}):(0,m.jsx)("label",{htmlFor:"image",className:"upload",children:(0,m.jsxs)("span",{children:[(0,m.jsx)("i",{className:"fa-solid fa-cloud-arrow-up text-white"}),(0,m.jsx)("div",{className:"fs-2",children:"Upload Image"})]})}),(0,m.jsx)("input",{type:"file",id:"image",accept:"image/*",onChange:function(e){e.target.files[0]?F(e.target.files[0]):F("")},hidden:!0})]})]}),(0,m.jsxs)("div",{className:"row mb-3",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col mb-3",children:[(0,m.jsx)("label",{className:"font-primary mb-2",htmlFor:"fullname",children:"Full Name"}),(0,m.jsx)("input",{className:"form-control input-theme",type:"text",id:"fullname",defaultValue:t.full_name,disabled:!0})]})}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col pe-2 mb-3 mb-md-0",children:[(0,m.jsx)("label",{className:"font-primary mb-2",htmlFor:"name",children:"Name"}),(0,m.jsx)("input",{className:"form-control input-theme",type:"text",id:"name",defaultValue:t.name,onChange:function(e){return I(e.target.value)},required:!0})]}),(0,m.jsxs)("div",{className:"col ps-2",children:[(0,m.jsx)("label",{className:"font-primary mb-2",htmlFor:"language",children:"Language"}),(0,m.jsx)("input",{className:"form-control input-theme",type:"text",id:"language",defaultValue:t.language,onChange:function(e){return L(e.target.value)}})]})]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"colm mb-3",children:[(0,m.jsx)("label",{className:"font-primary mb-2",htmlFor:"description",children:"Description"}),(0,m.jsx)("input",{className:"form-control input-theme",type:"text",id:"description",defaultValue:t.description,onChange:function(e){return E(e.target.value)},style:{border:"1px solid transparent"},required:!0})]})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("label",{className:"font-primary mb-2",htmlFor:"demo_url",children:"Demo URL"}),(0,m.jsx)("input",{className:"form-control input-theme",type:"text",id:"demo_url",defaultValue:t.demo_url,onChange:function(e){return z(e.target.value)}})]})})]})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col text-end mt-3",children:x?(0,m.jsx)("button",{type:"submit",className:"btn-theme-primary",disabled:!0,children:"Updating..."}):(0,m.jsx)("button",{type:"submit",className:"btn-theme-primary",children:"Update"})})})]})})})]}),(0,m.jsx)(o.Z,{image:w}),(0,m.jsx)("div",{className:"modal fade",id:"resetModal",tabIndex:"-1","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content tertiary",children:[(0,m.jsxs)("div",{className:"modal-header","data-bs-theme":"dark",children:[(0,m.jsx)("h1",{className:"modal-title fs-5 ",children:"Reset Project"}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsxs)("div",{className:"modal-body ",children:["Are you sure want to reset ",(0,m.jsx)("b",{className:"",children:t.name}),"?",(0,m.jsxs)("div",{className:"mt-5 d-flex gap-2 justify-content-end",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-cancel","data-bs-dismiss":"modal",children:"Cancel"}),g?(0,m.jsx)("button",{type:"button",className:"btn btn-danger",disabled:!0,children:"Reseting..."}):(0,m.jsx)("button",{type:"button",className:"btn btn-danger",onClick:Q,children:"Reset"})]})]})]})})})]})}}}]);
//# sourceMappingURL=391.991f2dbf.chunk.js.map