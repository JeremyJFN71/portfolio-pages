"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[618],{4784:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(184);function a(){return(0,r.jsx)("div",{className:"d-flex justify-content-center","data-aos":"fade-up",children:(0,r.jsx)("h3",{className:"font-secondary",children:"Something went wrong ;("})})}},7767:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(184);function a(e){var t=e.image;return(0,r.jsx)("div",{className:"modal fade",id:"imageModal",tabIndex:"-1","aria-hidden":"true",children:(0,r.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:(0,r.jsx)("div",{className:"modal-content",children:(0,r.jsx)("img",{src:t,alt:"",style:{maxHeight:"100vh",objectFit:"cover"}})})})})}},1618:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(4165),a=n(5861),s=n(9439),c=n(2791),i=n(7762),o=n(1087),u=n(7767),l=n(99),d=n(184);function f(e){var t=e.projects,n=(0,c.useState)(""),f=(0,s.Z)(n,2),p=f[0],h=f[1],m=(0,c.useState)([]),x=(0,s.Z)(m,2),j=x[0],y=x[1];(0,c.useEffect)((function(){var e,n=[],r=(0,i.Z)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;n.push(a.enable)}}catch(s){r.e(s)}finally{r.f()}y(n)}),[t]);var v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j[t]=!j[t],a={enable:j[t]},e.next=4,(0,l.ty)(n,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:"table-wrapper",children:[(0,d.jsxs)("table",{className:"table primary",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"text-center tertiary",children:[(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"#"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Name"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Image"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Owner"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Description"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Language"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Enable"}),(0,d.jsx)("th",{className:"font-primary",scope:"col",children:"Action"})]})}),(0,d.jsx)("tbody",{children:t.map((function(e,t){return(0,d.jsxs)("tr",{className:"text-center",children:[(0,d.jsx)("td",{className:"font-secondary",children:t+1}),(0,d.jsx)("td",{children:(0,d.jsx)("a",{href:e.html_url,className:"underline-hover font-secondary",target:"_blank",rel:"noreferrer",children:e.name})}),(0,d.jsx)("td",{children:(0,d.jsx)("img",{src:e.image,alt:"",className:"project-image clickable-image",style:{maxHeight:"100px",borderRadius:"5px",width:"auto"},"data-bs-toggle":"modal","data-bs-target":"#imageModal",onClick:function(){return h(e.image)}})}),(0,d.jsx)("td",{className:"font-secondary",children:e.owner}),(0,d.jsx)("td",{className:"font-secondary",children:e.description}),(0,d.jsx)("td",{className:"font-secondary",children:e.language||"-"}),(0,d.jsx)("td",{children:(0,d.jsx)("div",{className:"form-switch",children:(0,d.jsx)("input",{type:"checkbox",className:"form-check-input",role:"switch",defaultChecked:e.enable,onChange:function(){return v(t,e._id)},style:{cursor:"pointer"}})})}),(0,d.jsx)("td",{style:{width:"0%"},children:(0,d.jsx)(o.rU,{to:"/admin/project/".concat(e._id,"/edit"),className:"cool-btn-dark",children:(0,d.jsx)("i",{className:"fa-solid fa-pen-to-square font-secondary"})})})]},e._id)}))})]}),(0,d.jsx)(u.Z,{image:p})]})}var p=n(4784);function h(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),n=t[0],i=t[1],o=(0,c.useState)([]),u=(0,s.Z)(o,2),h=u[0],m=u[1],x=(0,c.useState)(!1),j=(0,s.Z)(x,2),y=j[0],v=j[1],Z=(0,c.useState)(!1),g=(0,s.Z)(Z,2),N=g[0],b=g[1];function w(){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,(0,l.Yw)();case 3:t=e.sent,n=t.data,a=t.error,n&&(i(n.data),m(n.data)),a&&v(!0),b(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){w()}),[]);var S=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,(0,l.p_)();case 3:t=e.sent,t.data&&(w(),alert(res.data.message)),b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=y?(0,d.jsx)(p.Z,{}):(0,d.jsx)(f,{projects:h});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{className:"fw-bold font-primary","data-aos":"fade-right",children:"PROJECT"}),(0,d.jsxs)("div",{className:"d-flex my-4 justify-content-between",children:[(0,d.jsxs)("div",{className:"position-relative","data-aos":"fade-right",children:[(0,d.jsx)("label",{htmlFor:"search",className:"position-absolute top-50",style:{left:"15px",translate:"0 -50%"},children:(0,d.jsx)("i",{className:"fa-solid fa-magnifying-glass text-secondary",style:{fontSize:"15px"}})}),(0,d.jsx)("input",{type:"search",id:"search",className:"input-search ps-5",placeholder:"Search...",onChange:function(e){return function(e){var t=new RegExp(e,"i");m(n.filter((function(e){return e.name.match(t)})))}(e.target.value)}})]}),N?(0,d.jsxs)("button",{className:"btn-theme-primary",disabled:!0,"data-aos":"fade-left",children:[(0,d.jsx)("i",{className:"fa-solid fa-rotate loading"})," Syncing..."]}):(0,d.jsxs)("button",{className:"btn-theme-primary",onClick:S,"data-aos":"fade-left",children:[(0,d.jsx)("i",{className:"fa-solid fa-rotate"})," Sync"]})]}),C]})}},99:function(e,t,n){n.d(t,{O0:function(){return o},Yw:function(){return c},fG:function(){return d},hH:function(){return i},p_:function(){return u},ty:function(){return l}});var r=n(4165),a=n(5861),s=n(5289),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects/show",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects/sync",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects/".concat(t,"/update"),{method:"PATCH",contentType:"multipart/form-data",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Z)("/api/projects/".concat(t,"/sync"),{method:"PATCH",body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=618.04b6d094.chunk.js.map