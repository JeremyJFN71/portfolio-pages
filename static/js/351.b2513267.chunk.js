"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[351],{4784:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(184);function r(){return(0,n.jsx)("div",{className:"d-flex justify-content-center","data-aos":"fade-up",children:(0,n.jsx)("h3",{className:"font-secondary",children:"Something went wrong ;("})})}},7767:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(184);function r(e){var t=e.image;return(0,n.jsx)("div",{className:"modal fade",id:"imageModal",tabIndex:"-1","aria-hidden":"true",children:(0,n.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:(0,n.jsx)("div",{className:"modal-content",children:(0,n.jsx)("img",{src:t,alt:"",style:{maxHeight:"100vh",objectFit:"cover"}})})})})}},4351:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var n=a(4165),r=a(5861),s=a(9439),c=a(2791),o=a(1243),i=a(7762),l=a(1087),d=a(7767),u=a(184);function h(e){var t=e.projects,a=(0,c.useState)(""),h=(0,s.Z)(a,2),f=h[0],m=h[1],p=(0,c.useState)([]),x=(0,s.Z)(p,2),j=x[0],y=x[1];(0,c.useEffect)((function(){var e,a=[],n=(0,i.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;a.push(r.enable)}}catch(s){n.e(s)}finally{n.f()}y(a)}),[t]);var g=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j[t]=!j[t],r={enable:j[t]},e.next=4,o.Z.patch("/api/projects/".concat(a,"/update"),r).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"table-wrapper",children:[(0,u.jsxs)("table",{className:"table primary",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"text-center tertiary",children:[(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"#"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Name"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Image"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Owner"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Description"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Language"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Enable"}),(0,u.jsx)("th",{className:"font-primary",scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:t.map((function(e,t){return(0,u.jsxs)("tr",{className:"text-center",children:[(0,u.jsx)("td",{className:"font-secondary",children:t+1}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:e.html_url,className:"underline-hover font-secondary",target:"_blank",rel:"noreferrer",children:e.name})}),(0,u.jsx)("td",{children:(0,u.jsx)("img",{src:e.image,alt:"",className:"project-image",style:{maxHeight:"100px",borderRadius:"5px",width:"auto"},"data-bs-toggle":"modal","data-bs-target":"#imageModal",onClick:function(){return m(e.image)}})}),(0,u.jsx)("td",{className:"font-secondary",children:e.owner}),(0,u.jsx)("td",{className:"font-secondary",children:e.description}),(0,u.jsx)("td",{className:"font-secondary",children:e.language||"-"}),(0,u.jsx)("td",{children:(0,u.jsx)("div",{className:"form-switch",children:(0,u.jsx)("input",{type:"checkbox",className:"form-check-input",role:"switch",defaultChecked:e.enable,onChange:function(){return g(t,e._id)},style:{cursor:"pointer"}})})}),(0,u.jsx)("td",{style:{width:"0%"},children:(0,u.jsx)(l.rU,{to:"/admin/project/".concat(e._id,"/edit"),className:"cool-btn-dark",children:(0,u.jsx)("i",{className:"fa-solid fa-pen-to-square font-secondary"})})})]},e._id)}))})]}),(0,u.jsx)(d.Z,{image:f})]})}var f=a(4784);function m(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),a=t[0],i=t[1],l=(0,c.useState)(!1),d=(0,s.Z)(l,2),m=d[0],p=d[1],x=(0,c.useState)(!1),j=(0,s.Z)(x,2),y=j[0],g=j[1];function N(){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/api/projects?sort=createdAt&direction=desc",{baseURL:"https://ahmad-muhajir.vercel.app"}).then((function(e){i(e.data)})).catch((function(e){p(!0),console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){N()}),[]);var b=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,o.Z.get("/api/projects/sync",{baseURL:"https://ahmad-muhajir.vercel.app"}).then((function(e){N(),alert(e.data.message)})).catch((function(e){return console.log(e.response)})).finally((function(){return g(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=m?(0,u.jsx)(f.Z,{}):(0,u.jsx)(h,{projects:a});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"fw-bold font-primary","data-aos":"fade-right",children:"PROJECT"}),(0,u.jsx)("div",{className:"d-flex mb-4 justify-content-end","data-aos":"fade-left",children:y?(0,u.jsxs)("button",{className:"btn-theme-primary",disabled:!0,children:[(0,u.jsx)("i",{className:"fa-solid fa-rotate loading"})," Syncing..."]}):(0,u.jsxs)("button",{className:"btn-theme-primary",onClick:b,children:[(0,u.jsx)("i",{className:"fa-solid fa-rotate"})," Sync"]})}),Z]})}}}]);
//# sourceMappingURL=351.b2513267.chunk.js.map