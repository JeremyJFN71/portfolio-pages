{"version":3,"file":"static/js/570.60f95364.chunk.js","mappings":"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","sources":["components/Error.jsx","pages/AdminEmail.jsx"],"sourcesContent":["export default function Error() {\r\n    return (\r\n        <div className='d-flex justify-content-center' data-aos=\"fade-up\">\r\n            <h3 className='font-secondary'>Something went wrong ;(</h3>\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from 'moment';\r\n\r\nimport Error from '../components/Error';\r\n\r\nexport default function AdminEmail() {\r\n    const [emails, setEmails] = useState([]);\r\n    const [length, setLength] = useState(0);\r\n    const [isError, setIsError] = useState(false);\r\n    const [isEmpty, setIsEmpty] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [deleting, setDeleting] = useState([]);\r\n\r\n    const myModal = document.querySelector('#deleteModal');\r\n\r\n    useEffect(()=>{\r\n        fetchData();\r\n    }, []);\r\n\r\n    async function fetchData(){\r\n        await axios.get('/api/emails?sort=createdAt&direction=desc')\r\n            .then(res=>{\r\n                if(res.data<1){\r\n                    setIsEmpty(true);\r\n                }\r\n                setEmails(res.data);\r\n                setLength(res.data.length)\r\n            })\r\n            .catch(err=>{\r\n                setIsError(true);\r\n                console.log(err.response);\r\n            });\r\n    }\r\n\r\n    const deleteOne = async (id)=>{\r\n        setDeleting([...deleting, id]);\r\n\r\n        setLength(l=>{\r\n            if(l-1===0){\r\n                setIsEmpty(true);\r\n            }\r\n            return (l-1)\r\n        });\r\n        await axios.delete(`/api/emails/${id}`)\r\n            .then(res=>console.log(res))\r\n            .catch(err=>console.log(err.response));\r\n    }\r\n\r\n    const deleteAll = async ()=>{\r\n        setIsLoading(true);\r\n        await axios.delete(`/api/emails`)\r\n            .then(()=>{\r\n                const modal = window.bootstrap.Modal.getInstance(myModal);\r\n                modal.hide();\r\n                fetchData();\r\n            })\r\n            .catch(err=>console.log(err.response))\r\n            .finally(()=>setIsLoading(false));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"fw-bold font-primary mb-3\" data-aos=\"fade-right\">EMAIL</h1>\r\n            {isError ? <Error /> : (\r\n                <>\r\n                    <div className=\"d-flex mb-4 justify-content-between align-items-center px-3 py-2 tertiary\" style={{borderRadius: '10px'}} data-aos=\"fade-up\">\r\n                        <span className=\"font-secondary\">There are {length} Emails</span>\r\n                        <span className=\"cool-btn-dark py-2 px-3\" style={{aspectRatio: 'unset', borderRadius: '20px'}} data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\">\r\n                            <span className=\"text-danger text-end\" style={{cursor: 'pointer'}}>Delete All</span>\r\n                        </span>\r\n                    </div>\r\n\r\n                    {isEmpty && (\r\n                        <div className=\"d-flex justify-content-center mt-5\" style={{position: 'absolute', right: '25%', left: '25%'}}>\r\n                            <h1 className=\"font-primary text-center\">No Emails</h1>\r\n                        </div>\r\n                    )}\r\n\r\n                    {emails.map(email=>(\r\n                        <div key={email._id} className={`${deleting.includes(email._id) ? 'deleting' : 'show-email'}`}>\r\n                            <hr className=\"m-0 mb-1\" />\r\n                            <div className=\"email-container mb-1 d-flex justify-content-start align-items-center\">\r\n                                <Link to={`/admin/email/${email._id}`} className=\"w-100 p-3 d-flex justify-content-between\">\r\n                                    <div>\r\n                                        <p className=\"font-primary m-0\">{email.name}</p>\r\n                                        <p className=\"font-secondary m-0\" style={{fontSize: '12px'}}>{email.subject}</p>\r\n                                        <p className=\"font-secondary m-0\" style={{fontSize: '12px'}}>{email.message}</p>\r\n                                    </div>\r\n                                </Link>\r\n                                <div style={{position: 'absolute', right: '10px', top: '10px'}}>\r\n                                    <p className=\"font-secondary m-0 text-end\" style={{fontSize: '12px'}}>{moment(email.createdAt).format('HH:mm, MMMM Do')}</p>\r\n                                </div>\r\n                                <div style={{position: 'absolute', right: '10px', bottom: '10px'}} onClick={()=>deleteOne(email._id)}>\r\n                                    <span className=\"cool-btn-dark\">\r\n                                        <i className=\"fa-solid fa-trash text-danger\"></i>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {/* Modal Delete */}\r\n                    <div className=\"modal fade\" id=\"deleteModal\" tabIndex=\"-1\" aria-hidden=\"true\">\r\n                        <div className=\"modal-dialog modal-dialog-centered\">\r\n                            <div className=\"modal-content tertiary\">\r\n                                <div className=\"modal-header\" data-bs-theme=\"dark\">\r\n                                    <h1 className=\"modal-title fs-5 \">Delete Email</h1>\r\n                                    <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                                </div>\r\n                                <div className=\"modal-body \">\r\n                                    Are you sure want to delete <b className=\"\">All</b>?\r\n                                    <div className=\"mt-5 d-flex gap-2 justify-content-end\">\r\n                                        <button type=\"button\" className=\"btn btn-cancel\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                                        {!isLoading ? (\r\n                                        <button type=\"button\" className=\"btn btn-danger\" onClick={deleteAll}>Delete</button> ) : (\r\n                                        <button type=\"button\" className=\"btn btn-danger\" disabled>Deleting...</button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}"],"names":["Error","_jsx","className","children","AdminEmail","_useState","useState","_useState2","_slicedToArray","emails","setEmails","_useState3","_useState4","length","setLength","_useState5","_useState6","isError","setIsError","_useState7","_useState8","isEmpty","setIsEmpty","_useState9","_useState10","isLoading","setIsLoading","_useState11","_useState12","deleting","setDeleting","myModal","document","querySelector","fetchData","_fetchData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","wrap","_context3","prev","next","axios","then","res","data","catch","err","console","log","response","stop","useEffect","deleteOne","_ref","_callee","id","_context","concat","_toConsumableArray","l","_x","deleteAll","_ref2","_callee2","_context2","window","bootstrap","Modal","getInstance","hide","finally","_jsxs","_Fragment","style","borderRadius","aspectRatio","cursor","position","right","left","map","email","includes","_id","Link","to","name","fontSize","subject","message","top","moment","createdAt","format","bottom","onClick","tabIndex","type","disabled"],"sourceRoot":""}